/*! formslider.history.js v1.0.0 | MIT */
(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},c={}.hasOwnProperty;this.HistoryJsPlugin=function(c){function d(){return this.handleHistoryChange=a(this.handleHistoryChange,this),this.pushCurrentHistoryState=a(this.pushCurrentHistoryState,this),this.onAfter=a(this.onAfter,this),this.init=a(this.init,this),d.__super__.constructor.apply(this,arguments)}return b(d,c),d.config={updateUrl:!1,resetStatesOnLoad:!0},d.prototype.init=function(){return this.on("after",this.onAfter),this.time=(new Date).getTime(),this.pushCurrentHistoryState(),History.Adapter.bind(window,"statechange",this.handleHistoryChange)},d.prototype.onAfter=function(){return this.pushCurrentHistoryState()},d.prototype.pushCurrentHistoryState=function(){var a;return a=null,this.config.updateUrl&&(a="?slide="+this.formslider.index()),this.logger.debug("pushCurrentHistoryState","index:"+this.formslider.index()),History.pushState({index:this.formslider.index(),time:this.time},null,a)},d.prototype.handleHistoryChange=function(a){var b,c;if(c=History.getState(),(null!=c&&null!=(b=c.data)?b.index:void 0)>-1&&(!this.config.resetStatesOnLoad||c.data.time===this.time))return this.logger.debug("handleHistoryChange",c.data.index),this.formslider.goto(c.data.index)},d}(AbstractFormsliderPlugin)}).call(this);